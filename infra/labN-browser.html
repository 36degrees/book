<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="widget.css" />

<form id="controls">
  <fieldset id="step-controls">
    <h1>The Chapter $chapter$ Browser</h1>
    <button class="reset left" disabled><span>Restart</span></button>
    <button class="stepf right"><span>Go</span></button>
  </fieldset>
  <fieldset id="input-controls">
    <kbd>https://browser.engineering/<input id="input" class="continue" type="url" value="$name$.html" /></kbd>
  </fieldset>
</form>
<figure id="widget">
  <canvas id="canvas" width="352" height="160"></canvas>
</figure>

<script src="rt.js"></script>
<script src="lab$chapter$.js"></script>
<script>
socket = lib.socket({});
ssl = lib.ssl();
tkinter = lib.tkinter({ canvas: document.querySelector("#canvas") });

let widget = new Widget(document.querySelector("#controls"));
widget.run(async function() {
    let url = "https://browser.engineering/" + document.getElementById("input").value;
    let b = await (new Browser()).init();
    await b.load(url)
});
widget.next();
</script>
