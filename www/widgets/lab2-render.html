<!doctype html>
<meta charset="utf-8" />
<link rel="stylesheet" href="widget.css" />

<figure id="widget">
  <canvas id="canvas" width="320" height="160"></canvas>
  <div id="controls">
  <div id="step-controls">
    <button class="reset" disabled>Restart</button>
    <button class="stepb" disabled>Back</button>
    <button class="stepf">Next</button>
    <button class="play">Animate</button>
  </div>
  <textarea id="input" rows=4>Laozi says, &lt;q&gt;千里之行，始於足下&lt;/q&gt;</textarea>
  </div>
</figure>

<script src="lab2b.js"></script>
<script src="rt.js"></script>
<script>
  
let widget = new Widget(lab2, document.querySelector("#widget"));
widget.import("socket", { "http://test/user": http_textarea(document.querySelector("#input")) });
widget.import("ssl");
widget.import("tkinter", document.querySelector("#canvas"), { zoom: 2.0 })

widget.run(async function(module) {
    module.WIDTH = 16 * 10;
    module.HEIGHT = 20 * 4;
    module.HSTEP = 16;
    module.VSTEP = 20;

    let b = new module.Browser();
    await b.load("http://test/user")
})

widget.pause("render");

widget.ready();
</script>
